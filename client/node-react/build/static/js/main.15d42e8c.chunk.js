(this["webpackJsonpnode-react"]=this["webpackJsonpnode-react"]||[]).push([[0],{28:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),s=n.n(c),o=(n(28),n(7)),i=n(6),l=n.n(i),u=n(10),j=n(37),d=n(38),h=n(44),b=n(43),m=n(39);function p(e){return f.apply(this,arguments)}function f(){return(f=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,a=t.password,e.next=3,fetch("/api/auth/login",{method:"POST",body:JSON.stringify({email:n,password:a}),headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("HTTP status "+e.status);return e.json()})).catch((function(e){console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return x.apply(this,arguments)}function x(){return(x=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.keyword,e.next=3,fetch("/api/homepage/getpositions/".concat(n),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("HTTP status "+e.status);return e.json()})).catch((function(e){console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=n(4);var v=function(e){var t=e.onLoginSuccessful,n=Object(a.useState)(""),r=Object(o.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(""),f=Object(o.a)(i,2),O=f[0],x=f[1],v=Object(a.useState)(!1),w=Object(o.a)(v,2),y=w[0],k=w[1],S=function(){var e=Object(u.a)(l.a.mark((function e(n){var a,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),k(!1),e.next=4,p({email:c,password:O});case 4:(a=e.sent)?(r=a.name,s=a.token,localStorage.setItem("name",r),localStorage.setItem("token",s),t()):k(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)(j.a,{children:[Object(g.jsx)(d.a,{className:"mt-5",children:Object(g.jsx)("h1",{children:"Login"})}),Object(g.jsx)(d.a,{children:Object(g.jsxs)(h.a,{className:"w-100",children:[Object(g.jsxs)(h.a.Group,{controlId:"formBasicEmail",children:[Object(g.jsx)(h.a.Label,{children:"Email address"}),Object(g.jsx)(h.a.Control,{type:"email",placeholder:"Enter email",onChange:function(e){return s(e.target.value)},value:c}),Object(g.jsx)(h.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(g.jsxs)(h.a.Group,{controlId:"formBasicPassword",children:[Object(g.jsx)(h.a.Label,{children:"Password"}),Object(g.jsx)(h.a.Control,{type:"password",placeholder:"Password",onChange:function(e){return x(e.target.value)},value:O})]}),y&&Object(g.jsx)(b.a,{variant:"danger",children:"The email address and password you entered don't match any account. Please try again."}),Object(g.jsx)(m.a,{variant:"primary",type:"submit",onClick:S,children:"Submit"})]})})]})},w=n(40),y=n(41),k=n(45),S=n(42);var N=function(e){var t=e.onLogout,n=Object(a.useState)(!1),r=Object(o.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(""),p=Object(o.a)(i,2),f=p[0],x=p[1],v=Object(a.useState)([]),N=Object(o.a)(v,2),T=N[0],P=N[1],L=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,O({keyword:f});case 3:t=e.sent,P(t),s(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)(j.a,{children:[Object(g.jsx)(d.a,{className:"mt-2 mb-2 d-flex w-100 justify-content-end",children:Object(g.jsx)(m.a,{variant:"outline-danger",onClick:t,children:"Log out"})}),Object(g.jsx)(d.a,{children:Object(g.jsx)("h1",{children:"Welcome!"})}),Object(g.jsx)(d.a,{className:"mt-2",children:Object(g.jsx)("h6",{children:"Enter one or multiple keywords below to search for matching available jobs on GitHub Jobs."})}),Object(g.jsx)(d.a,{children:Object(g.jsx)(h.a,{className:"w-100 mb-5",children:Object(g.jsxs)(w.a,{children:[Object(g.jsx)(h.a.Control,{type:"text",placeholder:"e.g. Python, Java, product manager...",onChange:function(e){x(e.target.value)},value:f}),Object(g.jsx)(w.a.Prepend,{children:Object(g.jsx)(m.a,{variant:"outline-primary",onClick:L,disabled:!f,children:"Search jobs"})})]})})}),c&&Object(g.jsx)(d.a,{className:"justify-content-center mb-5",children:Object(g.jsx)(y.a,{animation:"border",variant:"primary"})}),T&&T.length?Object(g.jsx)(k.a,{children:T.map((function(e,t){var n=e.type,a=e.url,r=e.created_at,c=e.company,s=e.location,o=e.title,i=e.description;return Object(g.jsxs)("a",{href:a,target:"_blank",rel:"noreferrer",className:"list-group-item list-group-item-action","aria-current":"true",children:[Object(g.jsxs)("div",{className:"d-flex w-100 justify-content-between",children:[Object(g.jsx)("h5",{className:"mb-1",children:o}),Object(g.jsx)("small",{children:C(r)})]}),Object(g.jsx)("h6",{className:"mb-1",children:c}),Object(g.jsxs)("div",{className:"mb-2",style:{overflow:"hidden",position:"relative",height:"15em"},children:[i.replace(/<[^>]*>?/gm,""),Object(g.jsx)("div",{style:{position:"absolute",right:0,bottom:0,width:"100%",height:"8em",background:"linear-gradient(to bottom,  rgba(255,255,255,0) 0%,rgba(255,255,255,0.8) 100%)"}})]}),Object(g.jsxs)("div",{className:"d-flex w-100 justify-content-between",children:[Object(g.jsx)("small",{children:s}),Object(g.jsx)(S.a,{variant:"primary",children:n})]})]},t)}))}):Object(g.jsx)(b.a,{variant:"info",children:"No results were found for the entered keyword/s."})]})};function C(e){var t=new Date(e),n=""+(t.getMonth()+1),a=""+t.getDate(),r=t.getFullYear();return n.length<2&&(n="0"+n),a.length<2&&(a="0"+a),[n,a,r].join("-")}var T=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){localStorage.getItem("token")?r(!0):r(!1)}),[]),n&&Object(g.jsx)(N,{onLogout:function(){localStorage.removeItem("name"),localStorage.removeItem("token"),r(!1)}})||Object(g.jsx)(v,{onLoginSuccessful:function(){r(!0)}})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};n(34);s.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(T,{})}),document.getElementById("root")),P()}},[[35,1,2]]]);
//# sourceMappingURL=main.15d42e8c.chunk.js.map